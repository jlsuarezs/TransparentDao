"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Provider=_interopRequireDefault(require("./Provider")),_Rx=require("rxjs/Rx");/**
 * A provider that uses the Window postMessage API to pass messages between windows.
 *
 * @param {Object} [target=window.parent] An window implementing the postMessage API.
 * @class WindowMessage
 * @extends {Provider}
 */class WindowMessage extends _Provider.default{constructor(target=window.parent){super(),this.target=target}/**
   * An observable of messages being sent to this provider.
   *
   * @memberof WindowMessage
   * @instance
   * @returns {Observable}
   */messages(){return _Rx.Observable.fromEvent(window,"message",!1).filter(event=>event.source===this.target).pluck("data")}/**
   * Send a payload to the underlying target of this provider.
   *
   * @param {Object} payload
   * @memberof WindowMessage
   * @instance
   */send(payload){this.target.postMessage(payload,"*")}}exports.default=WindowMessage;