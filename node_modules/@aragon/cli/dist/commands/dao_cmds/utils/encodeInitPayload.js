"use strict";

module.exports = function (web3, abi, initFunctionName, initArgs) {
  var methodABI = abi.find(function (method) {
    return method.name === initFunctionName;
  });

  if (!methodABI) {
    return '0x';
  } else {
    try {
      return web3.eth.abi.encodeFunctionCall(methodABI, initArgs);
    } catch (e) {
      throw new Error('Invalid initialization params for app. Check the arguments passed with the --app-init-args flag\n' + e.message);
    }
  }
};