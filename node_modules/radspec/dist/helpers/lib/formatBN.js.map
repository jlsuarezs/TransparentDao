{"version":3,"sources":["../../../src/helpers/lib/formatBN.js"],"names":["BN","require","exports","tenPow","x","pow","formatBN","amount","base","precision","Math","max","baseLength","toString","length","whole","div","fraction","mod","zeros","repeat","replace","slice","parseInt"],"mappings":"aAAA,KAAMA,CAAAA,EAAE,CAAGC,OAAO,CAAC,OAAD,CAAlB,CAEAC,OAAO,CAACC,MAAR,CAAiBC,CAAC,EACf,GAAIJ,CAAAA,EAAJ,CAAO,EAAP,CAAD,CAAaK,GAAb,CAAiB,GAAIL,CAAAA,EAAJ,CAAOI,CAAP,CAAjB,C,CAGFF,OAAO,CAACI,QAAR,CAAmB,CAACC,MAAD,CAASC,IAAT,CAAeC,SAAf,GAA6B,cAMrBC,IAAI,CAACC,GANgB,CAC9C;AAD8C,KAExCC,CAAAA,UAAU,CAAGJ,IAAI,CAACK,QAAL,GAAgBC,MAFW,CAIxCC,KAAK,CAAGR,MAAM,CAACS,GAAP,CAAWR,IAAX,EAAiBK,QAAjB,EAJgC,CAK9C,GAAII,CAAAA,QAAQ,CAAGV,MAAM,CAACW,GAAP,CAAWV,IAAX,EAAiBK,QAAjB,EAAf,CACA,KAAMM,CAAAA,KAAK,CAAG,IAAIC,MAAJ,CAAW,SAAS,CAAT,CAAYR,UAAU,CAAGK,QAAQ,CAACH,MAAtB,CAA+B,CAA3C,CAAX,CAAd,CAN8C,MAO9CG,CAAAA,QAAQ,CAAI,GAAEE,KAAM,GAAEF,QAAS,EAApB,CAAsBI,OAAtB,CAA8B,KAA9B,CAAqC,EAArC,EAAyCC,KAAzC,CAA+C,CAA/C,CAAkDb,SAAlD,CAPmC,CAS7B,EAAb,GAAAQ,QAAQ,EAAsC,CAA3B,GAAAM,QAAQ,CAACN,QAAD,CAAW,EAAX,CATe,CAUrCF,KAVqC,CAatC,GAAEA,KAAM,IAAGE,QAAS,EAC7B,C","sourcesContent":["const BN = require('bn.js')\n\nexports.tenPow = x => (\n  (new BN(10)).pow(new BN(x))\n)\n\nexports.formatBN = (amount, base, precision) => {\n  // Inspired by: https://github.com/ethjs/ethjs-unit/blob/35d870eae1c32c652da88837a71e252a63a83ebb/src/index.js#L83\n  const baseLength = base.toString().length\n\n  const whole = amount.div(base).toString()\n  let fraction = amount.mod(base).toString()\n  const zeros = '0'.repeat(Math.max(0, baseLength - fraction.length - 1))\n  fraction = `${zeros}${fraction}`.replace(/0+$/, '').slice(0, precision)\n\n  if (fraction === '' || parseInt(fraction, 10) === 0) {\n    return whole\n  }\n\n  return `${whole}.${fraction}`\n}\n"],"file":"formatBN.js"}